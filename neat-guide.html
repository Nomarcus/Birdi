<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Om NEAT-simuleringen</title>
  <style>
    :root {
      --ink:#1f2933;
      --bg:#f0f4ff;
      --card:#ffffff;
      --accent:#5b8def;
      --accent-dark:#3a64c2;
      --muted:#64748b;
    }
    *{box-sizing:border-box; margin:0; padding:0;}
    body{
      font-family:"Segoe UI", system-ui, -apple-system, BlinkMacSystemFont, "Helvetica Neue", Arial, sans-serif;
      background:linear-gradient(135deg,#d6e4ff 0%,#f5f9ff 100%);
      color:var(--ink);
      line-height:1.6;
      padding:24px;
    }
    header{
      display:flex;
      flex-direction:column;
      gap:16px;
      margin-bottom:32px;
      align-items:flex-start;
    }
    header h1{
      font-size:2.5rem;
      font-weight:900;
      color:var(--accent-dark);
      text-shadow:0 10px 30px rgba(58,100,194,0.18);
    }
    header p{
      max-width:720px;
      font-size:1.05rem;
      color:var(--muted);
    }
    .button-link{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:12px 22px;
      border-radius:14px;
      background:var(--accent);
      color:#fff;
      font-weight:700;
      text-decoration:none;
      transition:transform .2s ease, box-shadow .2s ease;
      box-shadow:0 12px 24px rgba(91,141,239,0.2);
    }
    .button-link:hover{ transform:translateY(-2px); box-shadow:0 18px 32px rgba(91,141,239,0.25);}    
    main{ display:grid; gap:28px; }
    section{ background:var(--card); border-radius:20px; padding:28px; box-shadow:0 20px 45px rgba(31,41,51,0.12);}    
    section h2{ font-size:1.6rem; margin-bottom:14px; color:var(--accent-dark);}    
    section h3{ font-size:1.25rem; margin-top:20px; margin-bottom:8px; color:var(--ink);}    
    p + p{ margin-top:12px; }
    ul{ margin-top:12px; margin-left:20px; display:grid; gap:10px; }
    li{ padding-left:4px; }
    .pill-list{ display:flex; flex-wrap:wrap; gap:10px; margin-top:16px; }
    .pill{ padding:8px 12px; border-radius:999px; background:rgba(91,141,239,0.12); color:var(--accent-dark); font-weight:600; }
    .parameter-group{ margin-top:24px; }
    .parameter-group h3{ border-bottom:3px solid rgba(91,141,239,0.2); padding-bottom:6px; }
    .parameter-grid{ display:grid; gap:14px; margin-top:14px; }
    @media (min-width:720px){
      .parameter-grid{ grid-template-columns:repeat(2,minmax(0,1fr)); }
    }
    .parameter-card{ background:rgba(91,141,239,0.08); padding:16px 18px; border-radius:16px; }
    .parameter-card strong{ display:block; font-size:1.05rem; margin-bottom:6px; color:var(--accent-dark);}    
    .parameter-card span{ color:var(--muted); font-size:0.95rem; }
    .toc{ display:flex; flex-wrap:wrap; gap:12px; margin-top:12px; }
    .toc a{ color:var(--accent-dark); font-weight:600; text-decoration:none; background:rgba(91,141,239,0.12); padding:8px 12px; border-radius:999px; }
    .toc a:hover{ background:rgba(91,141,239,0.18); }
  </style>
</head>
<body>
  <header>
    <a class="button-link" href="index.html">⬅️ Tillbaka till simuleringen</a>
    <h1>Allt om NEAT-simuleringen</h1>
    <p>
      Här samlas hela bakgrundsbeskrivningen för projektet. Du får en snabb överblick över hur flocksimuleringen fungerar,
      hur NEAT utvecklar nya beteenden, vilka parametrar som styr svårighetsgraden samt hur poängen räknas. Sidan är tänkt
      som ett komplett "About"-dokument som går igenom allt steg för steg på svenska.
    </p>
    <nav class="toc">
      <a href="#overview">Översikt</a>
      <a href="#loop">Evolutionens cykel</a>
      <a href="#brains">Fåglarnas hjärnor</a>
      <a href="#predators">Fiender och balans</a>
      <a href="#scoring">Poäng & statistik</a>
      <a href="#parameters">Parameteruppslagsverk</a>
    </nav>
  </header>

  <main>
    <section id="overview">
      <h2>Översikt över projektet</h2>
      <p>
        Simuleringen visar ett litet ekosystem där en flock småfåglar måste samla kvistar, hålla sig mätta och undvika
        fiender. Allt styrs av NeuroEvolution of Augmenting Topologies (NEAT) som successivt låter artificiella neurala
        nätverk förändras. Resultatet är att fåglarna kan lära sig samarbete, specialisera roller och upptäcka oväntade
        överlevnadsstrategier helt utan manuell reglerstyrning.
      </p>
      <p>
        Målet är att bygga upp ett bo samtidigt som flocken överlever så länge som möjligt. Simulatorn räknar upp ett antal
        indikatorer i kontrollpanelen på startsidan: generation, överlevnadstid, antal levande fåglar och olika rekord. På
        den här sidan hittar du bakgrundsinformationen som förklarar hur siffrorna hänger ihop och vad du kan styra.
      </p>
      <div class="pill-list">
        <span class="pill">Dynamiskt växande neurala nät</span>
        <span class="pill">Fitness-styrt urval</span>
        <span class="pill">Mutationsdiversitet</span>
        <span class="pill">Artskydd för nya beteenden</span>
      </div>
    </section>

    <section id="loop">
      <h2>Evolutionens cykel</h2>
      <p>
        NEAT arbetar i tydliga generationer. Varje varv genom simuleringen består av fyra huvuddelar som repeteras så länge
        du låter programmet vara igång:
      </p>
      <ul>
        <li><strong>Initiering:</strong> En ny flock genereras med slumpmässigt viktade hjärnor. Om rovdjur är aktiverade får de en egen startpopulation.</li>
        <li><strong>Simulering:</strong> Bildrutan tickar framåt, fåglar letar mat, varnar varandra, gömmer sig och bär kvistar till boet. Fiender patrullerar kartan och testar flockens försvar.</li>
        <li><strong>Fitness-spårning:</strong> Varje individ samlar fitness-poäng för överlevnadstid, matintag, lyckade flykter och byggframsteg. Dåliga val som stillastående gömställen kan ge avdrag.</li>
        <li><strong>Generationsskifte:</strong> När alla fåglar är borta väljs de bästa hjärnorna ut. Eliten kopieras rakt av, en föräldrapool korsar gener och mutationer skapar nya kopplingar eller ändrar vikter.</li>
      </ul>
      <p>
        Om du aktiverar progressiv evolution för rovdjuren upprepar de samma flöde, vilket gör att jägarna hänger med i
        svårighetsgrad när fåglarna blir smartare. Det skapar en katt-och-råtta-dynamik där båda sidor utvecklas samtidigt.
      </p>
    </section>

    <section id="brains">
      <h2>Fåglarnas hjärnor</h2>
      <p>
        Varje liten fågel styrs av ett neuralt nät som tar emot 33 kontinuerliga signaler. Inmatningarna speglar både den
        egna statusen och allt som händer i närmiljön:
      </p>
      <ul>
        <li><strong>Energi och uthållighet:</strong> Återstående reserver, förbrukningstakt och om fågeln står under larm påverkar risktagandet.</li>
        <li><strong>Rumsuppfattning:</strong> Avstånd och vinklar till mat, fiender, gömställen, träd och boet bygger upp en mental karta.</li>
        <li><strong>Sociala signaler:</strong> Räknare för närliggande flockmedlemmar och inkommande varningar styr om fågeln flockar eller sprider sig.</li>
        <li><strong>Boets status:</strong> Hur många kvistar som återstår och hur långt det är till boet styr bygglusten.</li>
      </ul>
      <p>
        Hjärnan lämnar fyra utgångsvärden som tolkas direkt av simuleringen:
      </p>
      <ul>
        <li><strong>Horisontell och vertikal kraft</strong> bestämmer flygriktningen.</li>
        <li><strong>Gömma sig-signal</strong> aktiveras när värdet överstiger 0,3 och fågeln har ett gömställe i närheten.</li>
        <li><strong>Kvistfokus</strong> aktiveras också vid 0,3 och uppmuntrar kvistplockning och leverans till boet.</li>
      </ul>
      <p>
        Genom mutationer kan NEAT lägga till nya neuroner eller justera vikter. Fler dolda neuroner ger mer uttrycksfulla
        beteenden, medan starkare mutationer snabbar upp förändringstakten men kan göra att flocken tappar tidigare framsteg.
      </p>
    </section>

    <section id="predators">
      <h2>Fiender och balans</h2>
      <p>
        Rovfåglarna fungerar som ett dynamiskt hot. Du kan justera hur många som patrullerar, hur fort de flyger, och om de
        utvecklas i takt med småfåglarna. När packjakt är aktiverat kan flera rovdjur dela information och omringa målet.
      </p>
      <p>
        Kartan innehåller också träd som fungerar som hinder och gömställen med begränsat utrymme. Att gömma sig för länge
        ger fitnessavdrag, så flocken tvingas alltid väga risk mot belöning. Energisystemet för både fåglar och rovdjur gör
        dessutom att ingen kan sprinta obegränsat – alla behöver mat respektive byten för att orka jaga vidare.
      </p>
    </section>

    <section id="scoring">
      <h2>Poäng & statistik</h2>
      <p>
        På huvudsidan syns två paneler: den aktuella statusen och rekord från hela sessionen. Följande värden uppdateras i
        realtid:
      </p>
      <ul>
        <li><strong>Generation:</strong> Vilken omgång flocken befinner sig i.</li>
        <li><strong>Överlevnadstid:</strong> Hur länge den nuvarande generationen har klarat sig.</li>
        <li><strong>Fåglar vid liv:</strong> En snabb indikator på hur hårt trycket är.</li>
        <li><strong>Dödsfall denna generation:</strong> Bra att jämföra mot rovdjursvinster.</li>
        <li><strong>Fiendevinster:</strong> Antal lyckade attacker som rovdjuren genomfört.</li>
      </ul>
      <p>
        Rekordsektionen lagrar bland annat högsta uppnådda fitness, längsta överlevnad, största byggda bo, största fiendebo
        (om rovdjuren får bygga), samt hur många fåglar som fångats totalt. Dessa värden hjälper dig se vilka strategier som
        fungerar bäst över tid och hur förändringar i parametrarna påverkar utvecklingen.
      </p>
    </section>

    <section id="parameters">
      <h2>Parameteruppslagsverk</h2>
      <p>
        Kontrollpanelen i simuleringen låter dig finjustera varenda del av ekosystemet. Nedan listas alla reglage och vad de
        påverkar. Ändringar syns direkt i HUD:en på startsidan.
      </p>

      <div class="parameter-group">
        <h3>Grundinställningar</h3>
        <div class="parameter-grid">
          <div class="parameter-card"><strong>🐦 Antal småfåglar</strong><span>Bestämmer populationen per generation. Större flockar ger mer variation men gör evolutionen långsammare.</span></div>
          <div class="parameter-card"><strong>🦅 Rovfåglar</strong><span>Hur många fiender som aktivt jagar flocken. Fler rovdjur ökar pressen och belönar smidiga strategier.</span></div>
          <div class="parameter-card"><strong>🍎 Matfrekvens</strong><span>Hur ofta ny mat dyker upp. Brist på mat tvingar fram aggressiv letning och energieffektiv flygning.</span></div>
          <div class="parameter-card"><strong>🌳 Antal gömställen</strong><span>Hur många säkra zoner kartan innehåller. De ger en kort andningspaus men rymmer bara ett begränsat antal fåglar.</span></div>
          <div class="parameter-card"><strong>🏠 Kapacitet per gömställe</strong><span>Maximalt antal individer som får plats på samma gång.</span></div>
          <div class="parameter-card"><strong>🌲 Träd / hinder</strong><span>Lägger till objekt som både fåglar och rovdjur måste navigera runt.</span></div>
        </div>
      </div>

      <div class="parameter-group">
        <h3>Bobygge</h3>
        <div class="parameter-grid">
          <div class="parameter-card"><strong>🪵 Kvistar i högen</strong><span>Hur många kvistar som genereras i centrala högen. Varje kvist kan bäras en gång.</span></div>
          <div class="parameter-card"><strong>🏆 Fitnessbonus per kvist</strong><span>Belöning till den fågel som levererar en kvist till boet. Högre värden uppmuntrar byggfokus.</span></div>
        </div>
      </div>

      <div class="parameter-group">
        <h3>Gömställen</h3>
        <div class="parameter-grid">
          <div class="parameter-card"><strong>⏱️ Maximal gömtid</strong><span>Så många bildrutor en fågel får ligga kvar innan den måste flyga vidare.</span></div>
          <div class="parameter-card"><strong>⏳ Nedkylning efter gömning</strong><span>Antal bildrutor som måste passera innan samma fågel får gömma sig igen.</span></div>
          <div class="parameter-card"><strong>😰 Fitnessavdrag vid gömställe</strong><span>Poäng som dras av varje tick när fågeln sitter still i skydd.</span></div>
        </div>
      </div>

      <div class="parameter-group">
        <h3>Småfåglarnas evolution</h3>
        <div class="parameter-grid">
          <div class="parameter-card"><strong>Elite %</strong><span>Andel toppresterande fåglar som förs vidare oförändrade.</span></div>
          <div class="parameter-card"><strong>Föräldrapool %</strong><span>Hur stor del av de bästa individerna som får bidra med gener.</span></div>
          <div class="parameter-card"><strong>Mutationsfrekvens %</strong><span>Sannolikhet att en enskild koppling muterar under reproduktion.</span></div>
          <div class="parameter-card"><strong>Mutationsstyrka</strong><span>Hur kraftiga förändringarna är varje gång en mutation sker.</span></div>
          <div class="parameter-card"><strong>🧠 Dolda neuroner</strong><span>Storleken på det dolda lagret i fågelhjärnorna. Fler neuroner gör beteenden mer uttrycksfulla.</span></div>
        </div>
      </div>

      <div class="parameter-group">
        <h3>Rovdjurs-evolution</h3>
        <div class="parameter-grid">
          <div class="parameter-card"><strong>Elite %</strong><span>Hur många rovdjur som går vidare oförändrade.</span></div>
          <div class="parameter-card"><strong>Föräldrapool %</strong><span>Andel rovdjur som får reproducera sig.</span></div>
          <div class="parameter-card"><strong>Mutationsfrekvens %</strong><span>Sannolikhet för mutation i varje vikt.</span></div>
          <div class="parameter-card"><strong>Mutationsstyrka</strong><span>Hur dramatiska rovdjurens mutationer blir.</span></div>
          <div class="parameter-card"><strong>🧠 Dolda neuroner</strong><span>Storlek på rovdjurens dolda lager.</span></div>
        </div>
      </div>

      <div class="parameter-group">
        <h3>Balans & beteende</h3>
        <div class="parameter-grid">
          <div class="parameter-card"><strong>💨 Uthållighetskostnad</strong><span>Grundkostnad i uthållighet per rörelse. Höga värden straffar konstant sprint.</span></div>
          <div class="parameter-card"><strong>🔋 Energi per rörelse</strong><span>Hur mycket energi som går åt vid varje uppdatering när fågeln rör sig.</span></div>
          <div class="parameter-card"><strong>🚨 Varningsboost %</strong><span>Hastighetsbonus när en fågel får ett larm.</span></div>
          <div class="parameter-card"><strong>🚨 Larmradie</strong><span>Hur långt en varning sprids till allierade.</span></div>
          <div class="parameter-card"><strong>🍎 Energi per matbit</strong><span>Hur mycket energi en fågel får tillbaka av att äta.</span></div>
        </div>
      </div>

      <div class="parameter-group">
        <h3>Rovdjursinställningar</h3>
        <div class="parameter-grid">
          <div class="parameter-card"><strong>⚡ Jakthastighet</strong><span>Högsta fart rovdjuren kan uppnå under en jakt.</span></div>
          <div class="parameter-card"><strong>🔋 Bo-laddning</strong><span>Hur snabbt rovdjuren laddar specialattacker från sitt bo.</span></div>
          <div class="parameter-card"><strong>🍖 Energi per fångst</strong><span>Energi som återställs när ett byte tas.</span></div>
          <div class="parameter-card"><strong>💪 Fitness per fångst</strong><span>Poäng som ges till rovdjuren för varje lyckad attack.</span></div>
          <div class="parameter-card"><strong>📈 Progressiv evolution</strong><span>När detta är på skalar rovdjurens svårighetsgrad med fåglarnas framsteg.</span></div>
          <div class="parameter-card"><strong>🎯 Packjakt</strong><span>Gör att rovdjur delar mål och koordinerar inflygningar mot ensamma fåglar.</span></div>
        </div>
      </div>
    </section>
  </main>
</body>
</html>
