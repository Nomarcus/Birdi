<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>About the NEAT Simulation</title>
  <style>
    :root {
      --ink:#f1f5ff;
      --ink-muted:#b5bbff;
      --bg-gradient:linear-gradient(135deg,#050817 0%,#1b1241 55%,#321c70 100%);
      --glow:0 25px 65px rgba(127,107,255,0.35);
      --card:rgba(27,30,84,0.82);
      --card-strong:rgba(38,33,96,0.9);
      --accent:#7f6bff;
      --accent-strong:#a08aff;
      --muted:#a5acf5;
      --border:rgba(140,133,255,0.35);
    }
    *{box-sizing:border-box; margin:0; padding:0;}
    body{
      font-family:"Segoe UI", system-ui, -apple-system, BlinkMacSystemFont, "Helvetica Neue", Arial, sans-serif;
      background:radial-gradient(circle at 8% 12%, rgba(80,64,187,0.35), transparent 60%),
        radial-gradient(circle at 82% 18%, rgba(255,106,175,0.28), transparent 50%),
        var(--bg-gradient);
      color:var(--ink);
      line-height:1.7;
      padding:28px;
    }
    header{
      display:flex;
      flex-direction:column;
      gap:18px;
      margin-bottom:36px;
      align-items:flex-start;
    }
    header h1{
      font-size:2.6rem;
      font-weight:900;
      color:#f9f5ff;
      text-shadow:0 22px 60px rgba(160,138,255,0.45);
      letter-spacing:0.05em;
    }
    header p{
      max-width:780px;
      font-size:1.05rem;
      color:var(--ink-muted);
    }
    .button-link{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:12px 24px;
      border-radius:16px;
      background:linear-gradient(135deg,var(--accent),var(--accent-strong));
      color:#fff;
      font-weight:700;
      text-decoration:none;
      letter-spacing:0.03em;
      transition:transform .2s ease, box-shadow .2s ease;
      box-shadow:0 18px 40px rgba(127,107,255,0.35);
    }
    .button-link:hover{ transform:translateY(-3px); box-shadow:0 26px 54px rgba(160,138,255,0.45);}
    main{ display:grid; gap:32px; }
    section{ background:var(--card); border-radius:24px; padding:32px; box-shadow:var(--glow); border:1px solid var(--border); backdrop-filter:blur(16px);}
    section h2{ font-size:1.6rem; margin-bottom:16px; color:#f9f5ff; text-shadow:0 12px 38px rgba(127,107,255,0.45); letter-spacing:0.05em;}
    section h3{ font-size:1.25rem; margin-top:24px; margin-bottom:10px; color:var(--ink);}
    p + p{ margin-top:14px; }
    ul{ margin-top:12px; margin-left:20px; display:grid; gap:12px; }
    li{ padding-left:4px; }
    .pill-list{ display:flex; flex-wrap:wrap; gap:12px; margin-top:18px; }
    .pill{ padding:8px 14px; border-radius:999px; background:rgba(127,107,255,0.16); color:#f1e8ff; font-weight:600; border:1px solid rgba(150,140,255,0.35); box-shadow:0 18px 38px rgba(12,8,40,0.55); }
    .parameter-group{ margin-top:28px; }
    .parameter-group h3{ border-bottom:3px solid rgba(160,138,255,0.35); padding-bottom:6px; }
    .parameter-grid{ display:grid; gap:18px; margin-top:18px; }
    @media (min-width:720px){
      .parameter-grid{ grid-template-columns:repeat(2,minmax(0,1fr)); }
    }
    .parameter-card{ background:linear-gradient(145deg, rgba(47,54,122,0.85), rgba(37,41,102,0.85)); padding:18px 22px; border-radius:18px; border:1px solid rgba(138,148,255,0.35); box-shadow:0 22px 40px rgba(11,8,44,0.6); }
    .parameter-card strong{ display:block; font-size:1.05rem; margin-bottom:8px; color:#f9f5ff;}
    .parameter-card span{ color:var(--ink-muted); font-size:0.95rem; }
    .toc{ display:flex; flex-wrap:wrap; gap:12px; margin-top:12px; }
    .toc a{ color:#fdfbff; font-weight:600; text-decoration:none; background:rgba(127,107,255,0.2); padding:8px 14px; border-radius:999px; border:1px solid rgba(150,140,255,0.4); box-shadow:0 12px 32px rgba(12,8,40,0.45); }
    .toc a:hover{ background:rgba(160,138,255,0.35); }
  </style>
</head>
<body>
  <header>
    <a class="button-link" href="index.html">⬅️ Back to the Simulation</a>
    <h1>All About the NEAT Simulation</h1>
    <p>
      This page collects the full background description for the project. You get a quick overview of how the flock simulation works,
      how NEAT develops new behaviours, which parameters control the difficulty, and how the scoring is calculated. Think of it as a complete
      "About" document that walks through everything step by step.
    </p>
    <nav class="toc">
      <a href="#overview">Overview</a>
      <a href="#loop">Evolution Cycle</a>
      <a href="#brains">Bird Brains</a>
      <a href="#predators">Predators and Balance</a>
      <a href="#scoring">Scoring & Statistics</a>
      <a href="#parameters">Parameter Reference</a>
    </nav>
  </header>

  <main>
    <section id="overview">
      <h2>Project Overview</h2>
      <p>
        The simulation shows a small ecosystem where a flock of songbirds must gather twigs, stay nourished, and avoid enemies.
        Everything is driven by NeuroEvolution of Augmenting Topologies (NEAT), which gradually allows artificial neural networks to change.
        As a result, the birds can learn to cooperate, specialise roles, and discover unexpected survival strategies without manual rule tuning.
      </p>
      <p>
        The goal is to build a nest while the flock survives for as long as possible. The simulator tracks several indicators in the control panel on the main page:
        generation, survival time, number of birds alive, and various records. This page explains how those numbers relate to each other and what you can control.
      </p>
      <div class="pill-list">
        <span class="pill">Dynamically growing neural networks</span>
        <span class="pill">Fitness-driven selection</span>
        <span class="pill">Mutation diversity</span>
        <span class="pill">Species protection for new behaviours</span>
      </div>
    </section>

    <section id="loop">
      <h2>Evolution Cycle</h2>
      <p>
        NEAT operates in clear generations. Each run through the simulation consists of four main phases that repeat for as long as you keep the program running:
      </p>
      <ul>
        <li><strong>Initialisation:</strong> A new flock is generated with randomly weighted brains. If predators are enabled they receive their own starting population.</li>
        <li><strong>Simulation:</strong> Frames tick forward, birds search for food, warn each other, hide, and carry twigs to the nest. Enemies patrol the map and test the flock's defences.</li>
        <li><strong>Fitness tracking:</strong> Every individual collects fitness points for survival time, food intake, successful escapes, and building progress. Poor choices, such as idling in a hideout, can subtract points.</li>
        <li><strong>Generation shift:</strong> When all birds are gone, the best brains are selected. The elite is copied as-is, a parent pool crosses genes, and mutations create new connections or adjust weights.</li>
      </ul>
      <p>
        If you enable progressive evolution for predators they repeat the same flow, letting the hunters keep up as the birds become smarter. That creates a cat-and-mouse dynamic where both sides evolve together.
      </p>
    </section>

    <section id="brains">
      <h2>Bird Brains</h2>
      <p>
        Every small bird is controlled by a neural network that receives 33 continuous signals. The inputs reflect both its own status and everything happening nearby:
      </p>
      <ul>
        <li><strong>Energy and stamina:</strong> Remaining reserves, rate of consumption, and whether the bird is under an alarm influence its risk taking.</li>
        <li><strong>Spatial awareness:</strong> Distances and angles to food, enemies, hideouts, trees, and the nest build a mental map.</li>
        <li><strong>Social signals:</strong> Counters for nearby flock members and incoming warnings decide whether the bird flocks or spreads out.</li>
        <li><strong>Nest status:</strong> How many twigs remain and the distance to the nest influence building motivation.</li>
      </ul>
      <p>
        The brain returns four output values that the simulation interprets directly:
      </p>
      <ul>
        <li><strong>Horizontal and vertical thrust</strong> determine the flight direction.</li>
        <li><strong>Hide signal</strong> activates when the value exceeds 0.3 and the bird has a hideout nearby.</li>
        <li><strong>Twig focus</strong> also activates at 0.3 and encourages twig collection and delivery to the nest.</li>
      </ul>
      <p>
        Through mutations NEAT can add new neurons or adjust weights. More hidden neurons create richer behaviours, while stronger mutations speed up change but may cause the flock to lose previous progress.
      </p>
    </section>

    <section id="predators">
      <h2>Predators and Balance</h2>
      <p>
        Birds of prey act as a dynamic threat. You can tweak how many patrol, how fast they fly, and whether they evolve alongside the songbirds. When pack hunting is enabled several predators can share information and encircle their target.
      </p>
      <p>
        The map also contains trees that work as obstacles and hideouts with limited space. Hiding for too long gives a fitness penalty, forcing the flock to weigh risk against reward. The energy systems for both birds and predators mean no one can sprint forever—everyone needs food or prey to keep chasing.
      </p>
    </section>

    <section id="scoring">
      <h2>Scoring & Statistics</h2>
      <p>
        The main page shows two panels: the current status and records from the entire session. The following values update in real time:
      </p>
      <ul>
        <li><strong>Generation:</strong> The round the flock is currently in.</li>
        <li><strong>Survival time:</strong> How long the current generation has lasted.</li>
        <li><strong>Birds alive:</strong> A quick indicator of how much pressure they are under.</li>
        <li><strong>Deaths this generation:</strong> Useful for comparing against predator victories.</li>
        <li><strong>Enemy wins:</strong> The number of successful attacks completed by predators.</li>
      </ul>
      <p>
        The record section stores the highest fitness achieved, longest survival, largest built nest, largest enemy nest (if predators can build), and how many birds have been caught in total. These values help you spot which strategies work best over time and how parameter changes influence progress.
      </p>
    </section>

    <section id="parameters">
      <h2>Parameter Reference</h2>
      <p>
        The control panel in the simulation lets you fine-tune every part of the ecosystem. Below is a list of all sliders and what they affect. Changes appear instantly in the HUD on the main page.
      </p>

      <div class="parameter-group">
        <h3>Core Settings</h3>
        <div class="parameter-grid">
          <div class="parameter-card"><strong>🐦 Number of Small Birds</strong><span>Determines the population per generation. Larger flocks create more variety but slow evolution.</span></div>
          <div class="parameter-card"><strong>🦅 Predators</strong><span>How many enemies actively hunt the flock. More predators increase pressure and reward agile strategies.</span></div>
          <div class="parameter-card"><strong>🍎 Food Frequency</strong><span>How often new food appears. Scarcity forces aggressive searching and energy-efficient flight.</span></div>
          <div class="parameter-card"><strong>🌳 Safe Zone Count</strong><span>How many safe zones the map contains. They provide short breathers but only fit a limited number of birds.</span></div>
          <div class="parameter-card"><strong>🏠 Capacity per Safe Zone</strong><span>The maximum number of individuals that can hide at the same time.</span></div>
          <div class="parameter-card"><strong>🌲 Trees / Obstacles</strong><span>Adds objects that both birds and predators must navigate around.</span></div>
        </div>
      </div>

      <div class="parameter-group">
        <h3>Nest Building</h3>
        <div class="parameter-grid">
          <div class="parameter-card"><strong>🪵 Twigs in the Pile</strong><span>How many twigs spawn in the central pile. Each twig can be carried once.</span></div>
          <div class="parameter-card"><strong>🏆 Fitness Bonus per Twig</strong><span>The reward for the bird that delivers a twig to the nest. Higher values encourage building focus.</span></div>
        </div>
      </div>

      <div class="parameter-group">
        <h3>Hideouts</h3>
        <div class="parameter-grid">
          <div class="parameter-card"><strong>⏱️ Maximum Hide Time</strong><span>The number of frames a bird may stay put before it has to fly again.</span></div>
          <div class="parameter-card"><strong>⏳ Cooldown after Hiding</strong><span>The number of frames that must pass before the same bird can hide again.</span></div>
          <div class="parameter-card"><strong>😰 Fitness Penalty while Hiding</strong><span>Points deducted every tick when a bird remains sheltered.</span></div>
        </div>
      </div>

      <div class="parameter-group">
        <h3>Small Bird Evolution</h3>
        <div class="parameter-grid">
          <div class="parameter-card"><strong>Elite %</strong><span>The share of top-performing birds that carry over unchanged.</span></div>
          <div class="parameter-card"><strong>Parent Pool %</strong><span>The portion of the best individuals allowed to contribute genes.</span></div>
          <div class="parameter-card"><strong>Mutation Rate %</strong><span>The chance that a given connection mutates during reproduction.</span></div>
          <div class="parameter-card"><strong>Mutation Power</strong><span>How strong each mutation is when it occurs.</span></div>
          <div class="parameter-card"><strong>🧠 Hidden Neurons</strong><span>The size of the hidden layer in bird brains. More neurons create more expressive behaviours.</span></div>
        </div>
      </div>

      <div class="parameter-group">
        <h3>Predator Evolution</h3>
        <div class="parameter-grid">
          <div class="parameter-card"><strong>Elite %</strong><span>How many predators carry over unchanged.</span></div>
          <div class="parameter-card"><strong>Parent Pool %</strong><span>The portion of predators allowed to reproduce.</span></div>
          <div class="parameter-card"><strong>Mutation Rate %</strong><span>The probability of mutation for each weight.</span></div>
          <div class="parameter-card"><strong>Mutation Power</strong><span>How dramatic the predator mutations become.</span></div>
          <div class="parameter-card"><strong>🧠 Hidden Neurons</strong><span>The size of the hidden layer for predators.</span></div>
        </div>
      </div>

      <div class="parameter-group">
        <h3>Balance & Behaviour</h3>
        <div class="parameter-grid">
          <div class="parameter-card"><strong>💨 Stamina Cost</strong><span>The base stamina cost per movement. High values punish constant sprinting.</span></div>
          <div class="parameter-card"><strong>🔋 Energy per Movement</strong><span>How much energy is spent each update while a bird is moving.</span></div>
          <div class="parameter-card"><strong>🚨 Warning Boost %</strong><span>The speed bonus a bird receives when it gets an alarm.</span></div>
          <div class="parameter-card"><strong>🚨 Alarm Radius</strong><span>How far a warning spreads to allies.</span></div>
          <div class="parameter-card"><strong>🍎 Energy per Food Item</strong><span>How much energy a bird regains from eating.</span></div>
        </div>
      </div>

      <div class="parameter-group">
        <h3>Predator Settings</h3>
        <div class="parameter-grid">
          <div class="parameter-card"><strong>⚡ Hunting Speed</strong><span>The maximum velocity predators can reach during a chase.</span></div>
          <div class="parameter-card"><strong>🔋 Nest Charge Rate</strong><span>How quickly predators charge special attacks from their nest.</span></div>
          <div class="parameter-card"><strong>🍖 Energy per Capture</strong><span>The energy restored when prey is caught.</span></div>
          <div class="parameter-card"><strong>💪 Fitness per Capture</strong><span>The points awarded to predators for each successful attack.</span></div>
          <div class="parameter-card"><strong>📈 Progressive Evolution</strong><span>When enabled, predator difficulty scales with bird progress.</span></div>
          <div class="parameter-card"><strong>🎯 Pack Hunting</strong><span>Allows predators to share targets and coordinate approaches against isolated birds.</span></div>
        </div>
      </div>
    </section>
  </main>
</body>
</html>
